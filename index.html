<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Clicker NFT</title>
  <link rel="stylesheet" href="style.css" />
  <script src="script.js"></script>
</head>
<body>
  <div class="container">
    <h1>‚ö° Clicker NFT</h1>
    
    <div class="stats">
      <p><strong>Puntos:</strong> <span id="points">0</span></p>
      <p><strong>Multiplicador:</strong> x<span id="multiplier">1</span></p>
    </div>

    <button id="click-button">Haz Click</button>

    <h2>üÉè Tus Cartas</h2>
    <div id="cards" class="card-container">
      <!-- Aqu√≠ se mostrar√°n las cartas -->
    </div>
  </div>

  <button id="loginButton">Iniciar sesi√≥n con Wallet</button>
  <p id="userInfo"></p>

    <script src="https://unpkg.com/ethers@5.7.2/dist/ethers.umd.min.js"></script>

  <script>
    async function loginWithWallet() {
      if (!window.ethereum) {
        alert("Necesitas MetaMask para iniciar sesi√≥n.");
        return;
      }

      try {
        const provider = new ethers.providers.Web3Provider(window.ethereum);
        await provider.send("eth_requestAccounts", []);
        const signer = provider.getSigner();
        const address = await signer.getAddress();

        const mensaje = "Inicia sesi√≥n en NovaCard Studios";
        const firma = await signer.signMessage(mensaje);

        localStorage.setItem("userAddress", address);
        localStorage.setItem("signature", firma);

        document.getElementById("userInfo").innerText = "Sesi√≥n iniciada: " + address;
      } catch (error) {
        console.error("Error al iniciar sesi√≥n:", error);
        alert("Error al iniciar sesi√≥n: " + error.message);
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      document.getElementById("loginButton").addEventListener("click", loginWithWallet);

      const savedAddress = localStorage.getItem("userAddress");
      if (savedAddress) {
        document.getElementById("userInfo").innerText = "Sesi√≥n iniciada: " + savedAddress;
      }
    });
  </script>
</body>
</html>
